#:kivy 1.11.1

<RegisterWasteScreen>:
    name: 'register_waste'
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)

        Label:
            text: 'Registro de Descarte de Resíduos Orgânicos'
            font_size: '20sp'
            size_hint_y: None
            height: dp(50)
            color: 0.1, 0.5, 0.1, 1

        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(15)

                Label:
                    text: 'Categoria do Alimento:'
                    halign: 'left'
                    text_size: self.width, None
                    size_hint_y: None
                    height: dp(30)
                Spinner:
                    id: food_category_spinner
                    text: 'Selecione a categoria'
                    values: ['Frutas', 'Vegetais', 'Carnes', 'Laticínios', 'Grãos', 'Outros']
                    size_hint_y: None
                    height: dp(40)

                Label:
                    text: 'Peso do Descarte (kg):'
                    halign: 'left'
                    text_size: self.width, None
                    size_hint_y: None
                    height: dp(30)
                TextInput:
                    id: weight_input
                    hint_text: 'Digite o peso em kg'
                    input_type: 'number'
                    multiline: False
                    size_hint_y: None
                    height: dp(40)

                Button:
                    text: 'Adicionar Mídia (Opcional)'
                    size_hint_y: None
                    height: dp(50)
                    on_release: root.add_media()
                    background_color: 0.1, 0.5, 0.8, 1

                Button:
                    text: 'Registrar Descarte'
                    size_hint_y: None
                    height: dp(50)
                    on_release: root.save_waste()
                    background_color: 0.2, 0.6, 0.2, 1

                # --- Botão para Voltar ao Menu Principal ---
                Button:
                    text: 'Voltar ao Menu Principal'
                    size_hint_y: None
                    height: dp(50)
                    on_release: app.root.current = 'main_menu' # Aponta para o novo menu
                    background_color: 0.7, 0.2, 0.2, 1